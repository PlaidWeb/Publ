<h1>Tagging test</h1>

<p>Spec: <code>{{view.spec}}</code></p>

<p><a href="{{view(tag=None).link}}">clear all tags</a> <a href="browse">tag browser</a></p>

<h2>Current tags: <code>{{view.tags}}</code></h2>

<ul>
{% for entry in view.entries %}
<li><a href="{{entry.link}}">{{entry.title}}</a>: <ul>
    {% for tag in entry.get_all('Tag') %}
    <li><a href="{{view(tag=tag).link}}">{{ tag }}</a></li>
    {% endfor %}
</ul></li>
{% endfor %}
{% if view.previous %}<li><a href="{{view.previous.link}}">previous</a></li>{% endif %}
{% if view.next %}<a href="{{view.next.link}}">next</a>{% endif %}
</ul>

{% for restrict in ['foo',['hello','bar']] %}
{% set other = view(tag=restrict,recurse=True) %}
<h2>Entries tagged <a href="{{other}}"><code>{{restrict}}</code></a></h2>

<ul>
{% for entry in other.entries %}
<li><a href="{{entry.link}}">{{entry.title}}</a>: <ul>
    {% for tag in entry.tags %}
    <li><a href="{{view(tag=tag)}}">{{ tag }}</a></li>
    {% endfor %}
</ul></li>
{% endfor %}
</ul>
{% endfor %}
